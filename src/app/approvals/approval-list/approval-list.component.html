<section class="approval-list">
    <header class="page-header">
      <div>
        <p class="eyebrow">承認ワークフロー</p>
        <h1>承認一覧</h1>
        <p class="hint">担当する申請のステータスと承認ステップを確認し、行クリックで詳細へ遷移できます。</p>
      </div>
      <p class="hint">最新の申請から表示しています。</p>
    </header>
  
    <section class="card table-card">
      <header>
        <div>
          <p class="eyebrow">申請一覧</p>
          <h2>承認待ち・履歴</h2>
        </div>
        <p class="hint">クリックで申請詳細へ。差戻しはコメントを確認してください。</p>
      </header>
  
      <div class="table-wrapper" *ngIf="approvals$ | async as approvals">
        <table>
          <thead>
            <tr>
              <th>申請ID</th>
              <th>区分</th>
              <th>対象社員件数</th>
              <th>申請者</th>
              <th>申請日時</th>
              <th>現在の承認ステップ</th>
              <th>ステータス</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let approval of approvals" (click)="onRowClick(approval)">
              <td class="id-cell">{{ approval.id }}</td>
              <td>
                <span class="badge" [class]="categoryClass(approval.category)">{{ approval.category }}</span>
              </td>
              <td class="numeric">{{ approval.targetCount }} 件</td>
              <td>{{ approval.applicantName }}</td>
              <td>{{ approval.createdAt?.toDate() | date: 'yyyy/MM/dd HH:mm' }}</td>
              <td class="numeric">{{ approval.currentStep || '-' }}</td>
              <td>
                <span class="status" [class]="statusClass(approval.status)">{{ statusLabel(approval.status) }}</span>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>
  </section>