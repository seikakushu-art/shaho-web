<header class="topbar">
  <div class="brand">
    <span class="logo">Shaho</span>
    <div>
      <p class="title">社会保険管理</p>
    </div>
  </div>
  <nav class="main-nav" *ngIf="guestNavigable$ | async">
    <a routerLink="/dashboard">ダッシュボード</a>
    <a routerLink="/approvals" *appHasRole="[RoleKey.SystemAdmin, RoleKey.Approver, RoleKey.Operator]">
      承認一覧
    </a>
    <a routerLink="/employees">社員一覧</a>
  </nav>
  <div class="actions" *ngIf="user$ | async as user">
    <span>{{ userDisplayName$ | async }}</span>
    <span class="separator">|</span>
    <span class="roles" *ngIf="roleDefinitions$ | async as roleDefinitions">
      {{ getRoleNames(roleDefinitions) }}
    </span>
    <span class="separator">|</span>
    <a routerLink="/approval-flows" *appHasRole="RoleKey.SystemAdmin">承認フロー管理</a>
    <span class="separator">|</span>
    <a routerLink="/user-management" *appHasRole="RoleKey.SystemAdmin">ユーザー管理</a>
    <span class="separator">|</span>
    <button type="button" (click)="logout()">ログアウト</button>
  </div>
</header>

<main>
  <router-outlet></router-outlet>
</main>